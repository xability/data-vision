TBD after debugging terminal behavior